{
   "__inputs":[
      {
         "name":"DS_PROMQL",
         "label":"PromQL",
         "description":"",
         "type":"datasource",
         "pluginId":"prometheus",
         "pluginName":"Prometheus"
      },
      {
         "name":"VAR_GLOBAL_TAG_FILTER",
         "type":"constant",
         "label":"global_tag_filter",
         "value":"instance=~\".*\"",
         "description":""
      },
      {
         "name":"VAR_ROLLING_INTERVAL",
         "type":"constant",
         "label":"rolling_interval",
         "value":"10m",
         "description":""
      }
   ],
   "__requires":[
      {
         "type":"grafana",
         "id":"grafana",
         "name":"Grafana",
         "version":"5.2.5"
      },
      {
         "type":"panel",
         "id":"graph",
         "name":"Graph",
         "version":"5.0.0"
      },
      {
         "type":"panel",
         "id":"heatmap",
         "name":"Heatmap",
         "version":"5.0.0"
      },
      {
         "type":"datasource",
         "id":"prometheus",
         "name":"Prometheus",
         "version":"5.0.0"
      },
      {
         "type":"panel",
         "id":"singlestat",
         "name":"Singlestat",
         "version":"5.0.0"
      }
   ],
   "annotations":{
      "list":[

      ]
   },
   "editable":true,
   "gnetId":null,
   "graphTooltip":0,
   "id":null,
   "iteration":1548063339298,
   "links":[

   ],
   "panels":[
      {
         "cacheTimeout":null,
         "colorBackground":false,
         "colorValue":false,
         "colors":[
            "rgba(245, 54, 54, 0.9)",
            "rgba(237, 129, 40, 0.89)",
            "rgba(50, 172, 45, 0.97)"
         ],
         "datasource":"${DS_PROMQL}",
         "format":"none",
         "gauge":{
            "maxValue":100,
            "minValue":0,
            "show":false,
            "thresholdLabels":false,
            "thresholdMarkers":true
         },
         "gridPos":{
            "h":7,
            "w":4,
            "x":0,
            "y":0
         },
         "id":2,
         "interval":null,
         "links":[

         ],
         "mappingType":1,
         "mappingTypes":[
            {
               "name":"value to text",
               "value":1
            },
            {
               "name":"range to text",
               "value":2
            }
         ],
         "maxDataPoints":100,
         "nullPointMode":"connected",
         "nullText":null,
         "postfix":"",
         "postfixFontSize":"50%",
         "prefix":"",
         "prefixFontSize":"50%",
         "rangeMaps":[
            {
               "from":"null",
               "text":"N/A",
               "to":"null"
            }
         ],
         "sparkline":{
            "fillColor":"rgba(31, 118, 189, 0.18)",
            "full":false,
            "lineColor":"rgb(31, 120, 193)",
            "show":true
         },
         "tableColumn":"",
         "targets":[
            {
               "expr":"count(count(node_cpu_seconds_total{mode='idle',$global_tag_filter}) by (instance))",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":"",
         "title":"Number of instances",
         "type":"singlestat",
         "valueFontSize":"80%",
         "valueMaps":[
            {
               "op":"=",
               "text":"N/A",
               "value":"null"
            }
         ],
         "valueName":"current"
      },
      {
         "cards":{
            "cardPadding":null,
            "cardRound":null
         },
         "color":{
            "cardColor":"#b4ff00",
            "colorScale":"sqrt",
            "colorScheme":"interpolateOranges",
            "exponent":0.5,
            "mode":"spectrum"
         },
         "dataFormat":"timeseries",
         "datasource":"${DS_PROMQL}",
         "gridPos":{
            "h":7,
            "w":4,
            "x":4,
            "y":0
         },
         "heatmap":{

         },
         "highlightCards":true,
         "id":5,
         "legend":{
            "show":false
         },
         "links":[

         ],
         "targets":[
            {
               "expr":"avg(sum(avg_over_time(node_cpu_seconds_total{$global_tag_filter}[$__interval])) by (cpu,instance)) by (instance)",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A"
            }
         ],
         "title":"Instance uptime",
         "tooltip":{
            "show":true,
            "showHistogram":true
         },
         "type":"heatmap",
         "xAxis":{
            "show":true
         },
         "xBucketNumber":null,
         "xBucketSize":null,
         "yAxis":{
            "decimals":null,
            "format":"s",
            "logBase":1,
            "max":null,
            "min":null,
            "show":true,
            "splitFactor":null
         },
         "yBucketBound":"auto",
         "yBucketNumber":null,
         "yBucketSize":null
      },
      {
         "cards":{
            "cardPadding":null,
            "cardRound":null
         },
         "color":{
            "cardColor":"#b4ff00",
            "colorScale":"sqrt",
            "colorScheme":"interpolateBlues",
            "exponent":0.5,
            "mode":"spectrum"
         },
         "dataFormat":"timeseries",
         "datasource":"${DS_PROMQL}",
         "description":"https://www.robustperception.io/understanding-machine-cpu-usage",
         "gridPos":{
            "h":7,
            "w":4,
            "x":8,
            "y":0
         },
         "heatmap":{

         },
         "highlightCards":true,
         "id":4,
         "legend":{
            "show":false
         },
         "links":[

         ],
         "targets":[
            {
               "expr":"100 - (avg by (instance) (100 * irate(node_cpu_seconds_total{mode='idle',$global_tag_filter}[$rolling_interval])))",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A"
            }
         ],
         "title":"CPU usage",
         "tooltip":{
            "show":true,
            "showHistogram":true
         },
         "type":"heatmap",
         "xAxis":{
            "show":true
         },
         "xBucketNumber":null,
         "xBucketSize":null,
         "yAxis":{
            "decimals":null,
            "format":"short",
            "logBase":1,
            "max":"100",
            "min":"0",
            "show":true,
            "splitFactor":null
         },
         "yBucketBound":"auto",
         "yBucketNumber":null,
         "yBucketSize":5
      },
      {
         "cards":{
            "cardPadding":null,
            "cardRound":null
         },
         "color":{
            "cardColor":"#b4ff00",
            "colorScale":"sqrt",
            "colorScheme":"interpolateBlues",
            "exponent":0.5,
            "mode":"spectrum"
         },
         "dataFormat":"timeseries",
         "datasource":"${DS_PROMQL}",
         "gridPos":{
            "h":7,
            "w":4,
            "x":12,
            "y":0
         },
         "heatmap":{

         },
         "highlightCards":true,
         "id":7,
         "legend":{
            "show":false
         },
         "links":[

         ],
         "targets":[
            {
               "expr":"1 - (node_memory_MemFree_bytes{$global_tag_filter} / node_memory_MemTotal_bytes{$global_tag_filter})",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A"
            }
         ],
         "title":"Memory usage",
         "tooltip":{
            "show":true,
            "showHistogram":true
         },
         "type":"heatmap",
         "xAxis":{
            "show":true
         },
         "xBucketNumber":null,
         "xBucketSize":null,
         "yAxis":{
            "decimals":null,
            "format":"percentunit",
            "logBase":1,
            "max":"1",
            "min":"0",
            "show":true,
            "splitFactor":null
         },
         "yBucketBound":"auto",
         "yBucketNumber":null,
         "yBucketSize":0.05
      },
      {
         "cards":{
            "cardPadding":null,
            "cardRound":null
         },
         "color":{
            "cardColor":"#b4ff00",
            "colorScale":"sqrt",
            "colorScheme":"interpolatePurples",
            "exponent":0.5,
            "mode":"spectrum"
         },
         "dataFormat":"timeseries",
         "datasource":"${DS_PROMQL}",
         "gridPos":{
            "h":7,
            "w":4,
            "x":16,
            "y":0
         },
         "heatmap":{

         },
         "highlightCards":true,
         "id":8,
         "legend":{
            "show":false
         },
         "links":[

         ],
         "targets":[
            {
               "expr":"((node_filesystem_size_bytes{$global_tag_filter} - node_filesystem_avail_bytes{$global_tag_filter}) / node_filesystem_size_bytes{$global_tag_filter}) * 100",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A"
            }
         ],
         "title":"Disk used",
         "tooltip":{
            "show":true,
            "showHistogram":true
         },
         "tooltipDecimals":null,
         "type":"heatmap",
         "xAxis":{
            "show":true
         },
         "xBucketNumber":null,
         "xBucketSize":"",
         "yAxis":{
            "decimals":null,
            "format":"percent",
            "logBase":1,
            "max":"100",
            "min":"0",
            "show":true,
            "splitFactor":null
         },
         "yBucketBound":"auto",
         "yBucketNumber":null,
         "yBucketSize":5
      },
      {
         "cards":{
            "cardPadding":null,
            "cardRound":null
         },
         "color":{
            "cardColor":"rgb(0, 30, 255)",
            "colorScale":"linear",
            "colorScheme":"interpolateOranges",
            "exponent":0.5,
            "mode":"spectrum"
         },
         "dataFormat":"timeseries",
         "datasource":"${DS_PROMQL}",
         "gridPos":{
            "h":7,
            "w":4,
            "x":20,
            "y":0
         },
         "heatmap":{

         },
         "highlightCards":true,
         "id":6,
         "legend":{
            "show":false
         },
         "links":[

         ],
         "targets":[
            {
               "expr":"irate(node_network_receive_bytes_total{$global_tag_filter}[$rolling_interval])",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A"
            },
            {
               "expr":"0 - irate(node_network_transmit_bytes_total{$global_tag_filter}[$rolling_interval])",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"B"
            }
         ],
         "title":"Network IO",
         "tooltip":{
            "show":true,
            "showHistogram":true
         },
         "type":"heatmap",
         "xAxis":{
            "show":true
         },
         "xBucketNumber":null,
         "xBucketSize":null,
         "yAxis":{
            "decimals":null,
            "format":"Bps",
            "logBase":1,
            "max":null,
            "min":null,
            "show":true,
            "splitFactor":null
         },
         "yBucketBound":"auto",
         "yBucketNumber":null,
         "yBucketSize":null
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":6,
            "x":0,
            "y":7
         },
         "id":9,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"node_load1{$global_tag_filter}",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Load Average [1m]",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{
           	
         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":6,
            "x":6,
            "y":7
         },
         "id":10,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"irate(node_forks_total[$rolling_interval])",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Processes",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":"0",
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{
            
         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":6,
            "x":12,
            "y":7
         },
         "id":11,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"irate(node_context_switches_total{$global_tag_filter}[$rolling_interval])",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Context Switches",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":"0",
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{
            
         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":6,
            "x":18,
            "y":7
         },
         "id":12,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"connected",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"irate(node_intr_total{$global_tag_filter}[$rolling_interval])",
               "format":"time_series",
               "intervalFactor":1,
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Interrupts",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":"0",
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{
            "avg":"rgb(158, 166, 155)"
         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":8,
            "x":0,
            "y":14
         },
         "id":19,
         "legend":{
            "alignAsTable":false,
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "rightSide":false,
            "show":false,
            "sort":"min",
            "sortDesc":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"100 - (sum(irate(node_cpu_seconds_total{mode='idle'}[$rolling_interval])) / count(irate(node_cpu_seconds_total{mode='idle'}[$rolling_interval])) * 100) ",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"avg",
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            },
            {
               "expr":"topk(3,100 - irate(node_cpu_seconds_total{mode='idle'}[$rolling_interval]) *100)",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"{{instance}}",
               "refId":"B",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Top 3 Used CPU",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"percent",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{
            "avg":"rgb(158, 166, 155)"
         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":8,
            "x":8,
            "y":14
         },
         "id":20,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"topk(3,100 - ((node_memory_MemFree_bytes + node_memory_Buffers_bytes + node_memory_Cached_bytes) / (node_memory_MemTotal_bytes)) * 100)",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"{{instance}}",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            },
            {
               "expr":"100 - (sum(node_memory_MemFree_bytes + node_memory_Buffers_bytes + node_memory_Cached_bytes) / sum(node_memory_MemTotal_bytes)) * 100",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"avg",
               "refId":"B",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Top 3 Memory Usages",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"percent",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{
            "avg":"rgb(158, 166, 155)"
         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":8,
            "x":16,
            "y":14
         },
         "id":21,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"topk(3,(sum(node_disk_io_time_seconds_total{$global_tag_filter}) by (instance) / avg(sum(node_cpu_seconds_total{$global_tag_filter}) by (instance,cpu)) by (instance)) * 100)",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"{{instance}}",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            },
            {
               "expr":"avg((sum(node_disk_io_time_seconds_total{$global_tag_filter}) by (instance) / avg(sum(node_cpu_seconds_total{$global_tag_filter}) by (instance,cpu)) by (instance)) * 100)",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"avg",
               "refId":"B",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Top 3 Disc Utilization",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"percent",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{
            "% Idle":"#E0F9D7",
            "% Used":"#E24D42"
         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":9,
            "w":24,
            "x":0,
            "y":21
         },
         "id":1,
         "legend":{
            "alignAsTable":true,
            "avg":false,
            "current":false,
            "max":true,
            "min":true,
            "rightSide":true,
            "show":true,
            "total":false,
            "values":true
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":true,
         "steppedLine":false,
         "targets":[
            {
               "expr":"((sum(irate(node_cpu_seconds_total{mode='idle',$global_tag_filter}[$rolling_interval]))) / (count(irate(node_cpu_seconds_total{mode='idle',$global_tag_filter}[$rolling_interval])))) * 100",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"%idle",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            },
            {
               "expr":"100 - (((sum(irate(node_cpu_seconds_total{mode='idle',$global_tag_filter}[$rolling_interval]))) / (count(irate(node_cpu_seconds_total{mode='idle',$global_tag_filter}[$rolling_interval])))) * 100)",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"%used",
               "refId":"B",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"CPU Usage",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":24,
            "x":0,
            "y":30
         },
         "id":3,
         "legend":{
            "alignAsTable":true,
            "avg":false,
            "current":false,
            "max":true,
            "min":true,
            "rightSide":true,
            "show":true,
            "total":false,
            "values":true
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":1,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":true,
         "steppedLine":false,
         "targets":[
            {
               "expr":"((sum(node_memory_MemFree_bytes{$global_tag_filter}) + sum(node_memory_Buffers_bytes{$global_tag_filter}) + sum(node_memory_Cached_bytes{$global_tag_filter})) / (sum(node_memory_MemTotal_bytes{$global_tag_filter}))) * 100",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"Available %",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            },
            {
               "expr":"100 - ((sum(node_memory_MemFree_bytes{$global_tag_filter}) + sum(node_memory_Buffers_bytes{$global_tag_filter}) + sum(node_memory_Cached_bytes{$global_tag_filter})) / (sum(node_memory_MemTotal_bytes{$global_tag_filter}))) * 100",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"used %",
               "refId":"B",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Memory",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"percent",
               "label":"",
               "logBase":1,
               "max":"100",
               "min":"0",
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "decimals":2,
         "fill":1,
         "gridPos":{
            "h":7,
            "w":12,
            "x":0,
            "y":37
         },
         "id":13,
         "legend":{
            "alignAsTable":true,
            "avg":false,
            "current":false,
            "hideEmpty":true,
            "hideZero":true,
            "max":true,
            "min":true,
            "rightSide":true,
            "show":true,
            "sort":null,
            "sortDesc":null,
            "total":false,
            "values":true
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":2,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"((node_filesystem_size_bytes{$global_tag_filter} - node_filesystem_free_bytes{$global_tag_filter}) / node_filesystem_size_bytes{$global_tag_filter}) * 100",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"{{mountpoint}}",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Disc Space",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"percent",
               "label":null,
               "logBase":1,
               "max":null,
               "min":"0",
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":12,
            "x":12,
            "y":37
         },
         "id":14,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null",
         "percentage":false,
         "pointradius":3,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "aggregator":"sum",
               "downsampleAggregator":"avg",
               "downsampleFillPolicy":"none",
               "expr":"(node_disk_io_time_seconds_total{$global_tag_filter} / ignoring(device) group_left(instance) sum(node_cpu_seconds_total{$global_tag_filter}) without (cpu,mode)) * 100",
               "format":"time_series",
               "interval":"",
               "intervalFactor":1,
               "legendFormat":"",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Disc Utilization",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"percent",
               "label":"",
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":24,
            "x":0,
            "y":44
         },
         "id":15,
         "legend":{
            "alignAsTable":true,
            "avg":false,
            "current":false,
            "max":true,
            "min":true,
            "rightSide":true,
            "show":true,
            "sort":"max",
            "sortDesc":true,
            "total":false,
            "values":true
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"connected",
         "percentage":false,
         "pointradius":5,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[
            {
               "alias":"/^out/",
               "transform":"negative-Y"
            }
         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"irate(node_network_receive_bytes_total{$global_tag_filter}[$rolling_interval])",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"in ({{instance}})",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            },
            {
               "expr":"irate(node_network_transmit_bytes_total{$global_tag_filter}[$rolling_interval])",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"out ({{instance}})",
               "refId":"B",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Network IO",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"Bps",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":12,
            "x":0,
            "y":51
         },
         "id":16,
         "legend":{
            "avg":false,
            "current":false,
            "max":false,
            "min":false,
            "show":false,
            "total":false,
            "values":false
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"null as zero",
         "percentage":false,
         "pointradius":2,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[

         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"(sum(node_memory_SwapTotal_bytes{$global_tag_filter}) - sum(node_memory_SwapFree_bytes{$global_tag_filter}) / sum(node_memory_SwapFree_bytes{$global_tag_filter})) * 100",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"swap_usage_percent",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Swap Usage",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"percent",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      },
      {
         "aliasColors":{

         },
         "bars":false,
         "dashLength":10,
         "dashes":false,
         "datasource":"${DS_PROMQL}",
         "fill":1,
         "gridPos":{
            "h":7,
            "w":12,
            "x":12,
            "y":51
         },
         "id":17,
         "legend":{
            "alignAsTable":true,
            "avg":false,
            "current":false,
            "max":true,
            "min":true,
            "rightSide":true,
            "show":true,
            "total":false,
            "values":true
         },
         "lines":true,
         "linewidth":1,
         "links":[

         ],
         "nullPointMode":"connected",
         "percentage":false,
         "pointradius":2,
         "points":false,
         "renderer":"flot",
         "seriesOverrides":[
            {
               "alias":"/^out/",
               "transform":"negative-Y"
            }
         ],
         "spaceLength":10,
         "stack":false,
         "steppedLine":false,
         "targets":[
            {
               "expr":"node_vmstat_pswpin",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"in({{instance}})",
               "metrics":[

               ],
               "refId":"A",
               "ts":{},
               "type":"Time Series"
            },
            {
               "expr":"node_vmstat_pswpout",
               "format":"time_series",
               "intervalFactor":1,
               "legendFormat":"out({{instance}})",
               "refId":"B",
               "ts":{},
               "type":"Time Series"
            }
         ],
         "thresholds":[

         ],
         "timeFrom":null,
         "timeRegions":[

         ],
         "timeShift":null,
         "title":"Swap IO",
         "tooltip":{
            "shared":true,
            "sort":0,
            "value_type":"individual"
         },
         "type":"graph",
         "xaxis":{
            "buckets":null,
            "mode":"time",
            "name":null,
            "show":true,
            "values":[

            ]
         },
         "yaxes":[
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            },
            {
               "format":"short",
               "label":null,
               "logBase":1,
               "max":null,
               "min":null,
               "show":true
            }
         ],
         "yaxis":{
            "align":false,
            "alignLevel":null
         }
      }
   ],
   "refresh":false,
   "schemaVersion":16,
   "style":"dark",
   "tags":[

   ],
   "templating":{
      "list":[
         {
            "allValue":".*",
            "current":{

            },
            "datasource":"${DS_PROMQL}",
            "definition":"",
            "hide":0,
            "includeAll":true,
            "label":"host",
            "multi":false,
            "name":"host",
            "options":[

            ],
            "query":"label_values(node_cpu_seconds_total,instance)",
            "refresh":1,
            "regex":"",
            "skipUrlSync":false,
            "sort":0,
            "tagValuesQuery":"",
            "tags":[

            ],
            "tagsQuery":"",
            "type":"query",
            "useTags":false
         },
         {
            "current":{
               "value":"${VAR_GLOBAL_TAG_FILTER}",
               "text":"${VAR_GLOBAL_TAG_FILTER}"
            },
            "hide":2,
            "label":"global_tag_filter",
            "name":"global_tag_filter",
            "options":[
               {
                  "value":"${VAR_GLOBAL_TAG_FILTER}",
                  "text":"${VAR_GLOBAL_TAG_FILTER}"
               }
            ],
            "query":"${VAR_GLOBAL_TAG_FILTER}",
            "skipUrlSync":false,
            "type":"constant"
         },
         {
            "current":{
               "value":"${VAR_ROLLING_INTERVAL}",
               "text":"${VAR_ROLLING_INTERVAL}"
            },
            "hide":2,
            "label":"rolling_interval",
            "name":"rolling_interval",
            "options":[
               {
                  "value":"${VAR_ROLLING_INTERVAL}",
                  "text":"${VAR_ROLLING_INTERVAL}"
               }
            ],
            "query":"${VAR_ROLLING_INTERVAL}",
            "skipUrlSync":false,
            "type":"constant"
         }
      ]
   },
   "time":{
      "from":"now-2d",
      "to":"now"
   },
   "timepicker":{
      "refresh_intervals":[
         "5s",
         "10s",
         "30s",
         "1m",
         "5m",
         "15m",
         "30m",
         "1h",
         "2h",
         "1d"
      ],
      "time_options":[
         "5m",
         "15m",
         "1h",
         "6h",
         "12h",
         "24h",
         "2d",
         "7d",
         "30d"
      ]
   },
   "timezone":"",
   "title":"Prometheus OS Metrics",
   "uid":"5yJpuYxir",
   "version":79
}
